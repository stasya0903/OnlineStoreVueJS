let chalk,nodemon,commandOptionsDefaults,serverUrl;_34eâ€.x([["default",()=>_34eâ€.o]]);_34eâ€.w("chalk",[["default",["chalk"],function(v){chalk=v}]]);_34eâ€.w("nodemon",[["default",["nodemon"],function(v){nodemon=v}]]);_34eâ€.w("../config",[["commandOptionsDefaults",["commandOptionsDefaults"],function(v){commandOptionsDefaults=v}]]);_34eâ€.w("../utils/serverUrl",[["default",["serverUrl"],function(v){serverUrl=v}]]);




const _34eâ€anonymous=({
  srvPath,
}) => args => {
  return new Promise((resolve, reject) => {
    nodemon({
      exec: `npx vue-cli-service express:run --delay ${getFlatArgs(args)}`,
      watch: [srvPath],
      ext: 'js mjs json ts',
    });

    nodemon.on('restart', () => {
      console.log();
      _34eâ€.g.console.log(chalk.bold.green(`  â³  Express server is restarting...`));
    });

    nodemon.on('crash', () => {
      console.log();
      _34eâ€.g.console.log(chalk.bold.red(`  ðŸ’¥  Express server crashed!`));
      _34eâ€.g.console.log(chalk.red(`     Waiting for changes...`));
    });

    nodemon.on('stdout', (...params) => {
      _34eâ€.g.console.log(chalk.grey(...params));
    });

    nodemon.on('stderr', (...params) => {
      _34eâ€.g.console.log(chalk.grey(...params));
    });

    nodemon.on('quit', () => {
      resolve();
      serverUrl.deleteFile();
      process.exit();
    });
  });
};_34eâ€.d(_34eâ€anonymous);

const getFlatArgs = (args) =>
  Object.keys(commandOptionsDefaults)
    .filter(option => args.hasOwnProperty(option))
    .map(option => {
      const value = args[option];
      return `--${option}` + (value !== true ? ` ${value}` : '');
    })
    .join(' ');
