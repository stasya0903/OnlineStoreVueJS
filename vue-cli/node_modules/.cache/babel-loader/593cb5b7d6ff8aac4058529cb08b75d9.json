{"remainingRequest":"/Users/Alena/Desktop/OnlineStoreVueJS/vue-cli/node_modules/babel-loader/lib/index.js!/Users/Alena/Desktop/OnlineStoreVueJS/vue-cli/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/Alena/Desktop/OnlineStoreVueJS/vue-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Alena/Desktop/OnlineStoreVueJS/vue-cli/src/components/CartDrop.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Alena/Desktop/OnlineStoreVueJS/vue-cli/src/components/CartDrop.vue","mtime":1582494477380},{"path":"/Users/Alena/Desktop/OnlineStoreVueJS/vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Alena/Desktop/OnlineStoreVueJS/vue-cli/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/Alena/Desktop/OnlineStoreVueJS/vue-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/Alena/Desktop/OnlineStoreVueJS/vue-cli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL0FsZW5hL0Rlc2t0b3AvT25saW5lU3RvcmVWdWVKUy92dWUtY2xpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhcnREcm9wIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYmFza2V0VXJsOiAiL2dldEJhc2tldC5qc29uIiwKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIGFtb3VudDogMAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qZGVsZXRlSXRlbShpdGVtKSB7CiAgICAgIGxldCBmaW5kID0gdGhpcy5hbGxJdGVtc0luQmFza2V0LmZpbmQoKGVsKSA9PiBlbC5pZF9wcm9kdWN0ID09PSBpdGVtLmlkX3Byb2R1Y3QpOwogICAgICBsZXQgaW5keCA9IHRoaXMuYWxsSXRlbXNJbkJhc2tldC5pbmRleE9mKGl0ZW0pOwogICAgICBpZiAoaXRlbS5xdWFudGl0eSA9PT0gMSkgewogICAgICAgIHRoaXMuJHBhcmVudC5kZWxldGVKc29uKCcvYXBpL2NhcnQnLCBpdGVtKQogICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHsKICAgICAgICAgICAgaWYgKGRhdGEucmVzdWx0KSB7CiAgICAgICAgICAgICAgdGhpcy5hbGxJdGVtc0luQmFza2V0LnNwbGljZShpbmR4LCAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcGFyZW50LnB1dEpzb24oYC9hcGkvY2FydC8ke2ZpbmQuaWRfcHJvZHVjdH1gLCB7cXVhbnRpdHk6IC0xfSkKICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICBpZiAoZGF0YS5yZXN1bHQpIHsKICAgICAgICAgICAgICB0aGlzLmFsbEl0ZW1zSW5CYXNrZXRbaW5keF0ucXVhbnRpdHktLTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgIH0KICAgICB9LAogICAgYWRkSXRlbShpdGVtKSB7CiAgICAgIGxldCBmaW5kID0gdGhpcy5hbGxJdGVtc0luQmFza2V0LmZpbmQoKGVsKSA9PiBlbC5pZF9wcm9kdWN0ID09PSBpdGVtLmlkX3Byb2R1Y3QpOwogICAgICBpZiAoZmluZCkgewogICAgICAgIHRoaXMuJHBhcmVudC5wdXRKc29uKGAvYXBpL2NhcnQvJHtmaW5kLmlkX3Byb2R1Y3R9YCwge3F1YW50aXR5OiAxfSkKICAgICAgICAgIC50aGVuKGRhdGEgPT4gewogICAgICAgICAgICBpZiAoZGF0YS5yZXN1bHQpIHsKICAgICAgICAgICAgICBmaW5kLnF1YW50aXR5KysKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IGl0ZW1JbkNhcnQgPSBPYmplY3QuYXNzaWduKHtxdWFudGl0eTogMX0sIGl0ZW0pOwogICAgICAgIHRoaXMuJHBhcmVudC5wb3N0SnNvbignL2FwaS9jYXJ0JywgaXRlbUluQ2FydCkKICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7CiAgICAgICAgICAgIGlmIChkYXRhLnJlc3VsdCkgewogICAgICAgICAgICAgIHRoaXMuYWxsSXRlbXNJbkJhc2tldC5wdXNoKGl0ZW1JbkNhcnQpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSovCiAgfSwKICBjb21wdXRlZDogbWFwR2V0dGVycyhbJ2FsbEl0ZW1zSW5CYXNrZXQnXSksCgogIC8qewogICAgdG90YWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmFsbEl0ZW1zSW5CYXNrZXQucmVkdWNlKChzdW0sIGVsKSA9PiBzdW0gKyBlbC5wcmljZSAqIGVsLnF1YW50aXR5LCAwKTsKICAgIH0sCiAgICBhbW91bnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmFsbEl0ZW1zSW5CYXNrZXQubGVuZ3RoOwogICAgfSwKICAgIGl0ZW1zSW5jYXJ0KCl7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmFsbFByb2R1Y3RzSW5DYXJ0OwogICAgfQogICB9LCovCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKAogICAgLyojX19QVVJFX18qLwogICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldEpzb24nKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["CartDrop.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,SAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,iBADA;AAEA,MAAA,IAAA,EAAA,KAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA,GATA;AAuDA,EAAA,QAAA,EAAA,UAAA,CAAA,CAAA,kBAAA,CAAA,CAvDA;;AAwDA;;;;;;;;;;;AAaA,EAAA,OArEA,qBAqEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,SAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AA1EA,CAAA","sourcesContent":["<template>\n  <div class=\"header__right\">\n    <div v-if=\"allItemsInBasket.length > 0\" v-show=\"show\" class=\"drop drop__cart drop_flex-column\"\n         id=\"drop__cart\">\n      <div class=\"cart-item\" v-for=\"item of allItemsInBasket\">\n        <img class=\"cart-item__img\" :src=\"item.img\" alt=\"\">\n        <div class=\"cart-item__info\">\n          <p class=\"item_info__drop\">{{item.product_name}}</p>\n          <p class=\"rating\">\n            <i class=\"fas fa-star\"></i>\n            <i class=\"fas fa-star\"></i>\n            <i class=\"fas fa-star\"></i>\n            <i class=\"fas fa-star\"></i>\n            <i class=\"fas fa-star\"></i>\n          </p>\n          <p class=\"price__prop\"> {{item.quantity}} X $ {{item.price}} </p>\n        </div>\n        <div class=\"delete_btn__drop\">\n          <i @click=\"deleteItem(item)\" id=\"deleteBtn\" class=\"fas fa-times-circle\"></i>\n        </div>\n      </div>\n      <div class=\"total_cart_drop\">\n        <p>TOTAL</p>\n        <p id=\"total\">$ {{total}}</p>\n      </div>\n      <div class=\"cart_drop_actions\">\n        <a href=\"checkout.html\">\n          <div class=\"cart_drop_btn\">CHECKOUT</div>\n        </a>\n\n        <a href=\"shoppingCard.html\">\n          <div class=\"cart_drop_btn\">GO TO CART</div>\n        </a>\n\n      </div>\n    </div>\n    <div class=\"drop drop__cart drop_flex-column\" v-else v-show=\"show\"><h3 class=\"pink\">Корзина\n      Пуста</h3></div>\n    <div @click=\"show = !show\" class=\"header__cart\">\n      <div class=\"count bounce-in-top\">\n        <span class=\"count__number\">{{amount}}</span>\n      </div>\n    </div>\n    <div @click=\"show = !show\" class=\"button button-flex drop_button\">My Account\n      <span class=\"button__arrow\">\n                        <i class=\"fas fa-sort-down\"></i>\n                    </span>\n    </div>\n  </div>\n</template>\n\n<script>\n  import{mapGetters} from 'vuex'\n  export default {\n    name: \"CartDrop\",\n    data() {\n      return {\n        basketUrl: \"/getBasket.json\",\n        show: false,\n        amount: 0,\n      }\n    },\n    methods: {\n      /*deleteItem(item) {\n        let find = this.allItemsInBasket.find((el) => el.id_product === item.id_product);\n        let indx = this.allItemsInBasket.indexOf(item);\n        if (item.quantity === 1) {\n          this.$parent.deleteJson('/api/cart', item)\n            .then((data) => {\n              if (data.result) {\n                this.allItemsInBasket.splice(indx, 1);\n              }\n            })\n\n        } else {\n          this.$parent.putJson(`/api/cart/${find.id_product}`, {quantity: -1})\n            .then(data => {\n              if (data.result) {\n                this.allItemsInBasket[indx].quantity--;\n              }\n            })\n\n        }\n\n      },\n      addItem(item) {\n        let find = this.allItemsInBasket.find((el) => el.id_product === item.id_product);\n        if (find) {\n          this.$parent.putJson(`/api/cart/${find.id_product}`, {quantity: 1})\n            .then(data => {\n              if (data.result) {\n                find.quantity++\n              }\n            })\n\n        } else {\n          let itemInCart = Object.assign({quantity: 1}, item);\n          this.$parent.postJson('/api/cart', itemInCart)\n            .then((data) => {\n              if (data.result) {\n                this.allItemsInBasket.push(itemInCart)\n              }\n            })\n\n\n        }\n      }*/\n    },\n    computed: mapGetters(['allItemsInBasket']),\n    /*{\n      total() {\n        return this.allItemsInBasket.reduce((sum, el) => sum + el.price * el.quantity, 0);\n      },\n      amount() {\n        return this.allItemsInBasket.length;\n      },\n      itemsIncart(){\n        return this.$store.getters.allProductsInCart;\n      }\n\n    },*/\n\n    async mounted() {\n      await this.$store.dispatch('getJson');\n\n\n\n    }\n  }\n\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":"src/components"}]}